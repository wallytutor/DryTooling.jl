<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Validation of iron carburizing model · DryTooling.jl</title><meta name="title" content="Validation of iron carburizing model · DryTooling.jl"/><meta property="og:title" content="Validation of iron carburizing model · DryTooling.jl"/><meta property="twitter:title" content="Validation of iron carburizing model · DryTooling.jl"/><meta name="description" content="Documentation for DryTooling.jl."/><meta property="og:description" content="Documentation for DryTooling.jl."/><meta property="twitter:description" content="Documentation for DryTooling.jl."/><meta property="og:url" content="https://wallytutor.github.io/DryTooling.jl/FiniteVolumes/validation/carburizing/"/><meta property="twitter:url" content="https://wallytutor.github.io/DryTooling.jl/FiniteVolumes/validation/carburizing/"/><link rel="canonical" href="https://wallytutor.github.io/DryTooling.jl/FiniteVolumes/validation/carburizing/"/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">DryTooling.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../../">Home</a></li><li><span class="tocitem">Module Finite Volumes</span><ul><li><a class="tocitem" href="../../">Documentation</a></li><li><a class="tocitem" href="../../samples/">Examples</a></li></ul></li><li><span class="tocitem">Module Granular</span><ul><li><a class="tocitem" href="../../../Granular/">Documentation</a></li><li><a class="tocitem" href="../../../Granular/samples/">Examples</a></li></ul></li><li><span class="tocitem">Module Fluid Models</span><ul><li><a class="tocitem" href="../../../FluidModels/">Documentation</a></li><li><a class="tocitem" href="../../../FluidModels/samples/">Examples</a></li></ul></li><li><span class="tocitem">Module Cantera</span><ul><li><a class="tocitem" href="../../../Cantera/">Documentation</a></li><li><a class="tocitem" href="../../../Cantera/samples/">Examples</a></li><li><a class="tocitem" href="../../../Cantera/status/">Status</a></li></ul></li><li><span class="tocitem">Module Thermodynamics</span><ul><li><a class="tocitem" href="../../../Thermodynamics/">Documentation</a></li><li><a class="tocitem" href="../../../Thermodynamics/samples/">Examples</a></li></ul></li><li><span class="tocitem">Module Kinetics</span><ul><li><a class="tocitem" href="../../../Kinetics/">Documentation</a></li><li><a class="tocitem" href="../../../Kinetics/samples/">Examples</a></li></ul></li><li><span class="tocitem">Module Plug Flow</span><ul><li><a class="tocitem" href="../../../PlugFlow/">Documentation</a></li><li><a class="tocitem" href="../../../PlugFlow/samples/">Examples</a></li></ul></li><li><a class="tocitem" href="../../../Simulation/">Module Simulation</a></li><li><a class="tocitem" href="../../../DryTooling/">DryTooling Core</a></li><li><span class="tocitem">Theory Guide</span><ul><li><a class="tocitem" href="../../theory/">Finite volumes</a></li><li><a class="tocitem" href="../../../Granular/theory/">Granular models</a></li><li><a class="tocitem" href="../../../FluidModels/theory/">Fluid models</a></li><li><a class="tocitem" href="../../../Thermodynamics/theory/">Thermodynamics</a></li><li><a class="tocitem" href="../../../Kinetics/theory/">Kinetics</a></li><li><a class="tocitem" href="../../../PlugFlow/theory/">Plug Flow models</a></li><li><a class="tocitem" href="../../../references/">References</a></li></ul></li><li><a class="tocitem" href="../../../api/">Reference API</a></li><li><a class="tocitem" href="../../../toc/">Table of contents</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Validation of iron carburizing model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Validation of iron carburizing model</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/wallytutor/DryTooling.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/wallytutor/DryTooling.jl/blob/main/docs/src/FiniteVolumes/validation/carburizing.md#" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Validation-of-iron-carburizing-model"><a class="docs-heading-anchor" href="#Validation-of-iron-carburizing-model">Validation of iron carburizing model</a><a id="Validation-of-iron-carburizing-model-1"></a><a class="docs-heading-anchor-permalink" href="#Validation-of-iron-carburizing-model" title="Permalink"></a></h1><p>The model hereafter introduced makes use of the diffusion coefficients provided by Slycke and Ericsson <a href="../../../references/#Slycke1981">[4]</a> <a href="../../../references/#Slycke1981a">[5]</a>. Simulation conditions and results are to be confronted with those provided by Dal&#39;Maz Silva <em>et al.</em> <a href="../../../references/#DalMazSilva2017">[6]</a>.</p><h2 id="Common-conditions"><a class="docs-heading-anchor" href="#Common-conditions">Common conditions</a><a id="Common-conditions-1"></a><a class="docs-heading-anchor-permalink" href="#Common-conditions" title="Permalink"></a></h2><p>Some conditions listed below will be shared across the simulations that follow. In the block below we find space discretization and physical conditions for model setup. Solver parameters are irrelevant in what follows and are kept hidden in the setup block (for checking them, please consider consulting the raw documentation files in project repository).</p><pre><code class="language-julia hljs">N = 100       # Number of cells
L = 0.002     # Length [m]
T = 1173.15   # Temperature [K]
τ = 50.0      # Characteristic time-step [s]</code></pre><h2 id="Carburizing-of-alloy-16NiCrMo13"><a class="docs-heading-anchor" href="#Carburizing-of-alloy-16NiCrMo13">Carburizing of alloy 16NiCrMo13</a><a id="Carburizing-of-alloy-16NiCrMo13-1"></a><a class="docs-heading-anchor-permalink" href="#Carburizing-of-alloy-16NiCrMo13" title="Permalink"></a></h2><p>For alloy 16NiCrMo13 we perform 2 hours of carbon enrichment followed by 3 hours of zero flux (closed system) diffusion.</p><pre><code class="language-julia hljs">enrich  = 2hour
diffuse = 3hour</code></pre><p>Mass transfer coefficient is then declared as a time function. A <em>high</em> value of <code>1.0</code> enforces an <em>almost-Dirichlet</em> boundary condition, while <code>0.0</code> closes the system.</p><pre><code class="language-julia hljs">h = (t) -&gt; (t &lt; enrich) ? 1.0 : 0.0</code></pre><p>A wrapper was created to initialize the model and used below. Starting from initial time, we perform the carburizing step. The initial condition is provided through <code>x</code> with the alloy&#39;s initial carbon content.</p><pre><code class="language-julia hljs">model = getcarburizingmodel(L, N, h, T, yaeros)

t0 = 0.0
t = enrich
x = carburizemasstomolefraction(yaero0)
@time solve(model; t, τ, x, M, α, ε, t0)
res1 = plotsimulationresiduals(model.res[]; showinner = true)[1]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">  0.029150 seconds (36.35 k allocations: 16.763 MiB, 70.47% compilation time)</code></pre><p>Below we see the plot of convergence tracking during the solution. Through option <code>showinner = true</code> we see the internal steps residuals. The blue dots represent the end of step residual, all of which fall below the target convergence criterium.</p><img src="b707c606.png" alt="Example block output"/><p>Now we continue the process from final time of carburizing for the whole diffusion interval. Again we inspect the residuals for this step to verify that everything worked as expected.</p><pre><code class="language-julia hljs">t0 = t
t = diffuse
x = nothing
@time solve(model; t, τ, x, M, α, ε, t0)
res2 = plotsimulationresiduals(model.res[]; showinner = true)[1]</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">  0.082489 seconds (59.60 k allocations: 23.857 MiB, 41.92% gc time, 42.76% compilation time)</code></pre><div class="admonition is-info"><header class="admonition-header">About convergence</header><div class="admonition-body"><p>If a convergence plot is not really required, this check could be skipped. In fact the solver will issue warnings if any step did not reach internal convergence so no worries.</p></div></div><img src="bb15adbf.png" alt="Example block output"/><p>Below we see the state of the system after both carburizing and homogeneization diffusion steps.</p><img src="d636cf14.png" alt="Example block output"/><p>Mass intake approaches the reference value of 23.5 <span>$g\cdotp{}m^{-2}$</span>obtained by diffusion profile integration by Dal&#39;Maz Silva <em>et al.</em> <a href="../../../references/#DalMazSilva2017">[6]</a>.</p><h2 id="Carburizing-of-alloy-23MnCrMo5"><a class="docs-heading-anchor" href="#Carburizing-of-alloy-23MnCrMo5">Carburizing of alloy 23MnCrMo5</a><a id="Carburizing-of-alloy-23MnCrMo5-1"></a><a class="docs-heading-anchor-permalink" href="#Carburizing-of-alloy-23MnCrMo5" title="Permalink"></a></h2><p>For alloy 23MnCrMo5 we perform 2 hours of carbon enrichment followed by 4 hours of zero flux (closed system) diffusion. To make it shorter, all the code is presented in a single block below.</p><pre><code class="language-julia hljs">enrich  = 2hour
diffuse = 4hour

h = (t) -&gt; (t &lt; enrich) ? 1.0 : 0.0

model = getcarburizingmodel(L, N, h, T, yautos)

t0 = 0.0
t = enrich
x = carburizemasstomolefraction(yauto0)
@time solve(model; t, τ, x, M, α, ε, t0)

t0 = t
t = diffuse
x = nothing
@time solve(model; t, τ, x, M, α, ε, t0)</code></pre><img src="16c4e032.png" alt="Example block output"/><p>Mass intake does not approache the reference value of 15.3 <span>$g\cdotp{}m^{-2}$</span>obtained by diffusion profile integration by Dal&#39;Maz Silva <em>et al.</em> <a href="../../../references/#DalMazSilva2017">[6]</a>, but that obtained by direct sample mass change of 20.5 <span>$g\cdotp{}m^{-2}$</span>. Because of the lack of experimental reproduction and high uncertainty in measurements, results are considered to be in good agreement.</p></article><nav class="docs-footer"><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Monday 30 October 2023 16:11">Monday 30 October 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
